import{j as e,K as z,L as D,$ as d,c as P,S as C}from"./app-CtSmOnty.js";import{H as S}from"./heading-cEJBtxtf.js";import{P as M,B as a}from"./badge-0AMxtSNE.js";import{a as A,B as t}from"./createLucideIcon-BH5sZu6J.js";import{C as m,a as o,b as x,c as h}from"./card-CLztMP_R.js";import{D as H}from"./confirm-dialog-BjK8x-7_.js";import{D as $}from"./data-table-BessxZjE.js";import{f}from"./index-CQrWliug.js";import{S as n}from"./skeleton-C0c5eq4b.js";import{L as B}from"./loader-circle-Cb8gwUk6.js";import{T as G,a as E,b as g,c as N}from"./tabs-B9o69FeZ.js";import{A as R}from"./app-layout-DV1X1ndK.js";import{P as l,a as c}from"./modulePermissions-BEXftD3I.js";import{W as F}from"./wallet-cards-KYC0MsiE.js";import{A as I}from"./arrow-left-DDcwQg6m.js";import{S as U}from"./square-pen-B5uf6Q0I.js";import{T as V}from"./trash-2-_McnpqUF.js";import{E as W}from"./eye-DVhMzors.js";import{P as Y}from"./pencil-OTxIDRpK.js";import{t as y}from"./scroll-area-pW5KXc2j.js";/* empty css            */import"./alert-dialog-DwsM_dsP.js";import"./table-BTz8ZMfw.js";import"./input-BLvZIIVA.js";import"./calendar-MlEU-z54.js";import"./extends-CF3RwP-h.js";import"./check-zpTdO6sL.js";import"./chevron-up-Cy84UZPw.js";import"./chevron-down-CXGb2HUX.js";import"./index-DGRCFNnL.js";import"./shield-DLpzKYtD.js";import"./index-BdQq_4o_.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],O=A("TrendingUp",q);function J({type:r="spinner",title:p="Yükleniyor...",height:u="h-[200px]",className:j=""}){return r==="spinner"?e.jsxs("div",{className:`flex flex-col items-center justify-center ${u} ${j}`,children:[e.jsx(B,{className:"h-8 w-8 animate-spin text-primary"}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:p})]}):e.jsxs(m,{className:j,children:[e.jsxs(o,{className:"pb-2",children:[e.jsx(x,{className:"text-lg",children:e.jsx(n,{className:"h-6 w-3/4"})}),e.jsx(n,{className:"h-4 w-1/2 mt-1"})]}),e.jsx(h,{children:e.jsxs("div",{className:`space-y-2 ${u}`,children:[e.jsx(n,{className:"h-4 w-full"}),e.jsx(n,{className:"h-4 w-full"}),e.jsx(n,{className:"h-4 w-3/4"}),e.jsx(n,{className:"h-20 w-full mt-4"})]})})]})}const Q=[{title:"Ana Sayfa",href:route("dashboard")},{title:"Kasalar",href:route("cash-boxes.index")},{title:"Kasa Detayı",href:"#"}];function De({cashBox:r,items:p,dataTableMeta:u}){const{report:j,transactions:b,paymentDetails:v}=z().props,_=()=>{C.delete(route("cash-boxes.destroy",r.id))},k=(s,i)=>{switch(s){case"pending":return e.jsx(a,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:i});case"completed":return e.jsx(a,{className:"bg-green-500",children:i});case"cancelled":return e.jsx(a,{variant:"destructive",children:i});case"partially_paid":return e.jsx(a,{className:"bg-blue-500",children:i});case"bounced":return e.jsx(a,{variant:"destructive",children:i});case"protested":return e.jsx(a,{variant:"destructive",children:i});default:return e.jsx(a,{variant:"outline",children:i})}},w=(s,i)=>{switch(s){case"credit":return e.jsx(a,{className:"bg-teal-100 text-teal-800",children:i});case"cash":return e.jsx(a,{className:"bg-green-100 text-green-800",children:i});case"bank_transfer":return e.jsx(a,{className:"bg-blue-100 text-blue-800",children:i});case"credit_card":return e.jsx(a,{className:"bg-purple-100 text-purple-800",children:i});case"check":return e.jsx(a,{className:"bg-amber-100 text-amber-800",children:i});case"promissory_note":return e.jsx(a,{className:"bg-indigo-100 text-indigo-800",children:i});default:return e.jsx(a,{variant:"outline",children:i})}},T=(s,i)=>{switch(s){case"income":return e.jsx(a,{className:"bg-emerald-500",children:i});case"expense":return e.jsx(a,{className:"bg-rose-500",children:i});default:return e.jsx(a,{variant:"outline",children:i})}},K=[{accessorKey:"formatted_transaction_date",header:"İşlem Tarihi",cell:({row:s})=>e.jsx("span",{children:s.original.formatted_transaction_date})},{accessorKey:"customer.name",header:"Müşteri/Tedarikçi",cell:({row:s})=>s.original.customer?e.jsx("span",{children:s.original.customer.name}):e.jsx("span",{children:"-"})},{accessorKey:"transaction_type_label",header:"İşlem Tipi",cell:({row:s})=>T(s.original.transaction_type,s.original.transaction_type_label)},{accessorKey:"payment_method_type_label",header:"Ödeme Yöntemi",cell:({row:s})=>w(s.original.payment_method_type,s.original.payment_method_type_label)},{accessorKey:"formatted_amount",header:"Tutar",cell:({row:s})=>e.jsx("span",{children:s.original.formatted_amount})},{accessorKey:"formatted_due_date",header:"Vade Tarihi",cell:({row:s})=>s.original.formatted_due_date?e.jsx("span",{children:s.original.formatted_due_date}):e.jsx("span",{children:"-"})},{accessorKey:"status_label",header:"Durum",cell:({row:s})=>k(s.original.status,s.original.status_label)},{id:"actions",header:"İşlemler",cell:({row:s})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{permissions:[c.financial_transactions.view],children:e.jsx(d,{href:route("financial-transactions.show",s.original.id),children:e.jsx(t,{size:"sm",variant:"outline",children:e.jsx(W,{className:"h-4 w-4"})})})}),e.jsx(l,{permissions:[c.financial_transactions.edit],children:e.jsx(d,{href:route("financial-transactions.edit",s.original.id),children:e.jsx(t,{size:"sm",variant:"outline",children:e.jsx(Y,{className:"h-4 w-4"})})})})]})}];return e.jsxs(R,{breadcrumbs:Q,children:[e.jsx(D,{title:`Kasa: ${r.name}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(S,{title:`Kasa: ${r.name}`,description:"Kasa detaylarını görüntüleyebilirsiniz.",buttons:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{permissions:[c.cash_boxes.view],children:e.jsx(d,{href:route("cash-boxes.eod-sessions",r.id),children:e.jsxs(t,{variant:"outline",tooltip:"Gün Sonu Raporları",children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Gün Sonu Raporları"]})})}),e.jsx(l,{permissions:[c.cash_boxes.view],children:e.jsx(d,{href:route("cash-boxes.index"),children:e.jsxs(t,{variant:"outline",children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),"Geri Dön"]})})}),e.jsx(l,{permissions:[c.cash_boxes.edit],children:e.jsx(d,{href:route("cash-boxes.edit",r.id),children:e.jsxs(t,{variant:"outline",children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Düzenle"]})})}),e.jsx(l,{permissions:[c.cash_boxes.delete],children:e.jsx(H,{title:"Kasayı Sil",description:"Bu kasayı silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.",onConfirm:_,children:e.jsxs(t,{variant:"destructive",children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),"Sil"]})})})]})}),e.jsxs(G,{defaultValue:"transactions",children:[e.jsx("div",{className:"mb-2 flex justify-center",children:e.jsxs(E,{className:"bg-muted flex gap-2 rounded-lg p-1",children:[e.jsxs(g,{value:"transactions",className:"px-4 py-2 text-sm",children:[e.jsx(M,{className:"h-4 w-4"}),"İşlemler"]}),e.jsxs(g,{value:"analytics",className:"px-4 py-2 text-sm",children:[e.jsx(O,{className:"h-4 w-4"}),"Analiz"]})]})}),e.jsx(N,{value:"analytics",className:"mx-auto w-full space-y-6",children:e.jsxs(m,{children:[e.jsx(o,{children:e.jsx(x,{children:"Kasa Analiz Paneli"})}),e.jsx(h,{children:e.jsx(P,{data:["report","transactions","paymentDetails"],fallback:e.jsx(J,{}),children:e.jsx(CashBoxDashboard,{report:j,paymentDetails:v,transactions:b})})})]})}),e.jsx(N,{value:"transactions",className:"mx-auto w-full space-y-6",children:e.jsxs(m,{children:[e.jsx(o,{children:e.jsx(x,{children:"Kasa İşlemleri"})}),e.jsx(h,{children:e.jsx($,{columns:K,data:p.data,meta:u,routeName:"cash-boxes.show",routeParams:{cash_box:r.id},searchKey:"transaction_type_label",searchPlaceholder:"Müşteri adı, açıklama veya belge no ara...",reloadProps:["items","dataTableMeta"]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs(m,{children:[e.jsx(o,{children:e.jsx(x,{children:"Kasa Bilgileri"})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"size-6 rounded-full",style:{backgroundColor:r.color}}),e.jsx("h3",{className:"text-xl font-semibold",children:r.name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-500",children:"Şube"}),e.jsx("p",{className:"mt-1",children:r.branch.name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-500",children:"Kasa Tipi"}),e.jsx("p",{className:"mt-1",children:e.jsx(a,{variant:"outline",children:r.type==="cash"?"Nakit Kasa":"Banka Hesabı"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-500",children:"Para Birimi"}),e.jsx("p",{className:"mt-1",children:e.jsxs(a,{variant:"outline",children:[r.currency," ",r.formatted_currency]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-500",children:"Durum"}),e.jsx("p",{className:"mt-1",children:r.is_active?e.jsx(a,{className:"bg-green-500",children:"Aktif"}):e.jsx(a,{variant:"outline",className:"text-muted-foreground",children:"Pasif"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-500",children:"Oluşturulma Tarihi"}),e.jsx("p",{className:"mt-1",children:f(new Date(r.created_at),"dd MMMM yyyy HH:mm",{locale:y})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-500",children:"Son Güncelleme"}),e.jsx("p",{className:"mt-1",children:f(new Date(r.updated_at),"dd MMMM yyyy HH:mm",{locale:y})})]})]})]}),e.jsxs(m,{children:[e.jsx(o,{children:e.jsx(x,{children:"Banka Hesabı Detayları"})}),e.jsx(h,{className:"space-y-4",children:r.type==="bank_account"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-500",children:"IBAN"}),e.jsx("p",{className:"mt-1 font-mono",children:r.iban||"-"})]}),e.jsxs("div",{className:"bg-muted mt-4 rounded-md p-4",children:[e.jsx("h3",{className:"mb-2 font-medium",children:"Bilgi"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Bu kasa bir banka hesabıdır. Banka hesapları için finansal işlemler ve raporlamalar farklı şekilde yönetilir."})]})]}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-muted-foreground",children:"Bu kasa bir nakit kasadır. Banka hesabı detayları bulunmamaktadır."})})})})]})]})]})]})}export{De as default};
