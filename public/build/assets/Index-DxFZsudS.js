import{j as e,L as h,$ as t,S as l}from"./app-SHADsRRx.js";import{H as x}from"./heading-DQVHpnnf.js";import{B as u}from"./badge-D1eYfAvn.js";import{B as a}from"./createLucideIcon-7rxJ1NOK.js";import{C as p,a as v,b as j,c as f}from"./card-Bs_IftfP.js";import{D as g}from"./confirm-dialog-CWxEFKlb.js";import{D as N}from"./data-table-1u4JWSYY.js";import"./index-DIHPoMt1.js";import{A as y}from"./app-layout-azwslWWM.js";import{P as i,a as r}from"./modulePermissions-Drf07fcP.js";import{P as _}from"./plus-BUomPYsJ.js";import{E as z}from"./eye-Bg9u16ae.js";import{P as b}from"./pencil-Dn3DAiQZ.js";import{P as H}from"./play-Ttx_lgDh.js";import{M as K}from"./message-square-C1ItM28e.js";import{T as P}from"./trash-2-DXfqqmJM.js";/* empty css            */import"./alert-dialog-B6QiAaKk.js";import"./table-B_-IMT_j.js";import"./input-xyJAgfz2.js";import"./scroll-area-4aPBt8Ip.js";import"./index-BdQq_4o_.js";import"./calendar-B4DqgNzJ.js";import"./extends-CF3RwP-h.js";import"./loader-circle-BstjWAZi.js";import"./check-BWA9tbFT.js";import"./chevron-up-CuGyfFEo.js";import"./chevron-down-CyN8gg8X.js";import"./index-B_g7EtE3.js";import"./shield-2Ig7Vgy7.js";const C=[{title:"Ana Sayfa",href:route("dashboard")},{title:"Hizmetlerim",href:route("dealer.services.index")}];function le({services:n,dataTableMeta:o,statusOptions:D}){const c=[{accessorKey:"id",header:"ID"},{accessorKey:"service_code",header:"Hizmet Kodu",cell:({row:s})=>e.jsx("div",{className:"font-mono font-medium",children:s.original.service_code})},{accessorKey:"customer",header:"Müşteri",cell:({row:s})=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.original.customer.full_name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.original.customer.phone})]})},{accessorKey:"vehicle",header:"Araç",cell:({row:s})=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.original.vehicle.full_name}),s.original.vehicle.plate&&e.jsx("div",{className:"text-sm text-muted-foreground",children:s.original.vehicle.plate})]})},{accessorKey:"status",header:"Durum",cell:({row:s})=>e.jsx(u,{variant:s.original.status.value==="ACTIVE"?"default":"secondary",className:`bg-${s.original.status.color}-500 text-white`,children:s.original.status.label})},{accessorKey:"warranty",header:"Garanti",cell:({row:s})=>e.jsx("div",{className:"text-sm",children:s.original.warranty.start_date?e.jsxs("div",{children:[e.jsxs("div",{children:["Başlangıç: ",s.original.warranty.start_date]}),s.original.warranty.end_date&&e.jsxs("div",{children:["Bitiş: ",s.original.warranty.end_date]})]}):e.jsx("span",{className:"text-muted-foreground",children:"Başlatılmadı"})})},{accessorKey:"applied_products_count",header:"Ürünler",cell:({row:s})=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium",children:s.original.applied_products_count}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"ürün"})]})},{accessorKey:"notes_count",header:"Notlar",cell:({row:s})=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium",children:s.original.notes_count}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"not"})]})},{accessorKey:"application_date",header:"Başvuru Tarihi",cell:({row:s})=>e.jsx("div",{className:"text-sm text-muted-foreground",children:s.original.application_date})},{id:"actions",header:"İşlemler",cell:({row:s})=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{permissions:[r.service.view_own],children:e.jsx(t,{href:route("dealer.services.show",s.original.id),children:e.jsx(a,{variant:"outline",size:"sm",children:e.jsx(z,{className:"h-4 w-4"})})})}),e.jsx(i,{permissions:[r.service.edit],children:e.jsx(t,{href:route("dealer.services.edit",s.original.id),children:e.jsx(a,{variant:"outline",size:"sm",children:e.jsx(b,{className:"h-4 w-4"})})})}),s.original.status.value==="PENDING"&&e.jsx(i,{permissions:[r.service.start_warranty],children:e.jsx(a,{variant:"outline",size:"sm",onClick:()=>m(s.original.id),children:e.jsx(H,{className:"h-4 w-4"})})}),e.jsx(i,{permissions:[r.service.add_note],children:e.jsx(t,{href:`${route("dealer.services.show",s.original.id)}#notes`,children:e.jsx(a,{variant:"outline",size:"sm",children:e.jsx(K,{className:"h-4 w-4"})})})}),e.jsx(i,{permissions:[r.service.delete],children:e.jsx(g,{onConfirm:()=>d(s.original.id),description:`"${s.original.service_code}" hizmetini silmek istediğinize emin misiniz?`,children:e.jsx(a,{variant:"destructive",size:"sm",children:e.jsx(P,{className:"h-4 w-4"})})})})]})}],d=s=>{l.delete(route("dealer.services.destroy",s),{onSuccess:()=>{}})},m=s=>{l.post(route("dealer.services.start-warranty",s),{onSuccess:()=>{}})};return e.jsxs(y,{breadcrumbs:C,children:[e.jsx(h,{title:"Hizmetlerim"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(x,{title:"Hizmetlerim",description:"Hizmetlerinizi yönetmek için bu tabloyu kullanabilirsiniz.",buttons:e.jsx("div",{className:"flex gap-2",children:e.jsx(i,{permissions:[r.service.create],children:e.jsx(t,{href:route("dealer.services.create"),children:e.jsxs(a,{children:[e.jsx(_,{className:"h-4 w-4"}),"Yeni Hizmet"]})})})})}),e.jsx(i,{permissions:[r.service.view_own],children:e.jsxs(p,{children:[e.jsx(v,{children:e.jsx(j,{children:"Hizmetler Listesi"})}),e.jsx(f,{className:"overflow-scroll",children:e.jsx(N,{columns:c,data:n.data,meta:o,routeName:"dealer.services.index",searchKey:"service_code",searchPlaceholder:"Hizmet kodu veya müşteri ara..."})})]})})]})]})}export{le as default};
