import{m as C,r as _,j as e,L as k,$ as F}from"./app-DsTwdazc.js";import{H as A}from"./heading-CQjpW-8m.js";import{B as j}from"./createLucideIcon-upp3zg0H.js";import{C as c,a as d,b as m,c as x}from"./card-CNOKyrAc.js";import{C as R}from"./checkbox-RsnBmC9Z.js";import{I as n}from"./input-DcfLo4nu.js";import{L as l}from"./label-H268D9wU.js";import{A as K}from"./app-layout-CTWXThtW.js";import{P as L,a as P}from"./modulePermissions-Ct0XfNpZ.js";import{A as Y}from"./arrow-left-DpRbDDvx.js";/* empty css            */import"./index-Df0WfHtO.js";import"./index-C5an8EuA.js";import"./check-P2Lck8a1.js";import"./scroll-area-B0tUH6FX.js";import"./index-BdQq_4o_.js";import"./calendar-D_lVF0Dv.js";import"./index-Dj8NjCvl.js";import"./badge-fJqk-oMP.js";const D=[{title:"Ana Sayfa",href:route("dashboard")},{title:"Kullanıcı Yönetimi",href:route("user_management.index")},{title:"Yeni Kullanıcı",href:route("user_management.create")}];function ee({roles:f}){const{data:r,setData:i,post:v,processing:g,errors:a}=C({name:"",email:"",phone_number:"",password:"",password_confirmation:"",roles:[],avatar:null}),[h,N]=_.useState(null),w=s=>{s.preventDefault(),v(route("user_management.store"),{forceFormData:!0})},b=s=>{if(s.target.files&&s.target.files[0]){const t=s.target.files[0];i("avatar",t);const o=new FileReader;o.onload=p=>{var u;(u=p.target)!=null&&u.result&&N(p.target.result)},o.readAsDataURL(t)}},y=(s,t)=>{t?i("roles",[...r.roles,s]):i("roles",r.roles.filter(o=>o!==s))};return e.jsxs(K,{breadcrumbs:D,children:[e.jsx(k,{title:"Yeni Kullanıcı Ekle"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(A,{title:"Yeni Kullanıcı Ekle",description:"Yeni bir kullanıcı eklemek için bu formu kullanabilirsiniz.",buttons:e.jsx("div",{className:"flex gap-2",children:e.jsx(L,{permissions:[P.userManagement.view],children:e.jsx(F,{href:route("user_management.index"),children:e.jsxs(j,{variant:"outline",children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Geri Dön"]})})})})}),e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs(c,{className:"md:col-span-2",children:[e.jsx(d,{children:e.jsx(m,{children:"Kullanıcı Bilgileri"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name",children:"Ad Soyad"}),e.jsx(n,{id:"name",value:r.name,onChange:s=>i("name",s.target.value)}),a.name&&e.jsx("p",{className:"text-sm text-red-500",children:a.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"E-posta"}),e.jsx(n,{id:"email",type:"email",value:r.email,onChange:s=>i("email",s.target.value)}),a.email&&e.jsx("p",{className:"text-sm text-red-500",children:a.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"phone_number",children:"Telefon"}),e.jsx(n,{id:"phone_number",value:r.phone_number,onChange:s=>i("phone_number",s.target.value)}),a.phone_number&&e.jsx("p",{className:"text-sm text-red-500",children:a.phone_number})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"password",children:"Şifre"}),e.jsx(n,{id:"password",type:"password",value:r.password,onChange:s=>i("password",s.target.value)}),a.password&&e.jsx("p",{className:"text-sm text-red-500",children:a.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"password_confirmation",children:"Şifre Tekrar"}),e.jsx(n,{id:"password_confirmation",type:"password",value:r.password_confirmation,onChange:s=>i("password_confirmation",s.target.value)}),a.password_confirmation&&e.jsx("p",{className:"text-sm text-red-500",children:a.password_confirmation})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c,{children:[e.jsx(d,{children:e.jsx(m,{children:"Profil Resmi"})}),e.jsx(x,{className:"space-y-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"flex h-40 w-40 items-center justify-center overflow-hidden rounded-full bg-zinc-100",children:h?e.jsx("img",{src:h,alt:"Avatar önizleme",className:"h-full w-full object-cover"}):e.jsx("span",{className:"text-zinc-400",children:"Resim yok"})}),e.jsxs("div",{className:"w-full space-y-2",children:[e.jsx(l,{htmlFor:"avatar",children:"Profil Resmi Yükle"}),e.jsx(n,{id:"avatar",type:"file",accept:"image/*",onChange:b}),a.avatar&&e.jsx("p",{className:"text-sm text-red-500",children:a.avatar})]})]})})]}),e.jsxs(c,{children:[e.jsx(d,{children:e.jsx(m,{children:"Kullanıcı Rolleri"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[f.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{id:`role-${s.id}`,checked:r.roles.includes(s.id),onCheckedChange:t=>y(s.id,t===!0)}),e.jsx(l,{htmlFor:`role-${s.id}`,children:s.name})]},s.id)),a.roles&&e.jsx("p",{className:"text-sm text-red-500",children:a.roles})]})})]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(j,{type:"submit",disabled:g,children:"Kaydet"})})]})]})]})}export{ee as default};
