import{j as e,L as m,$ as t,S as x}from"./app-SHADsRRx.js";import{H as h}from"./heading-DQVHpnnf.js";import{B as u}from"./badge-D1eYfAvn.js";import{B as r}from"./createLucideIcon-7rxJ1NOK.js";import{C as p,a as j,b as f,c as g}from"./card-Bs_IftfP.js";import{D as y}from"./confirm-dialog-CWxEFKlb.js";import{D as v}from"./data-table-1u4JWSYY.js";import"./index-DIHPoMt1.js";import{A as N}from"./app-layout-azwslWWM.js";import{P as s,a}from"./modulePermissions-Drf07fcP.js";import{P as b}from"./plus-BUomPYsJ.js";import{E as B}from"./eye-Bg9u16ae.js";import{P as C}from"./pencil-Dn3DAiQZ.js";import{T as D}from"./trash-2-DXfqqmJM.js";/* empty css            */import"./alert-dialog-B6QiAaKk.js";import"./table-B_-IMT_j.js";import"./input-xyJAgfz2.js";import"./scroll-area-4aPBt8Ip.js";import"./index-BdQq_4o_.js";import"./calendar-B4DqgNzJ.js";import"./extends-CF3RwP-h.js";import"./loader-circle-BstjWAZi.js";import"./check-BWA9tbFT.js";import"./chevron-up-CuGyfFEo.js";import"./chevron-down-CyN8gg8X.js";import"./index-B_g7EtE3.js";import"./shield-2Ig7Vgy7.js";const P=[{title:"Ana Sayfa",href:route("dashboard")},{title:"Bayi Yönetimi",href:route("admin.dealers.index")}];function se({dealers:l,dataTableMeta:n,statusOptions:_}){const d=[{accessorKey:"id",header:"ID"},{accessorKey:"name",header:"Bayi Adı",cell:({row:i})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center",children:i.original.logo_url?e.jsx("img",{src:i.original.logo_url,alt:i.original.name,className:"h-8 w-8 rounded-full object-cover",onError:c=>{c.currentTarget.src="/images/default-dealer-logo.png"}}):e.jsx("span",{className:"text-gray-400 text-xs",children:"Logo"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:i.original.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:i.original.email})]})]})},{accessorKey:"city",header:"Şehir",cell:({row:i})=>!i.original.city&&!i.original.district?e.jsx("span",{className:"text-muted-foreground",children:"-"}):e.jsxs("div",{className:"text-sm",children:[i.original.city,i.original.district&&`, ${i.original.district}`]})},{accessorKey:"status",header:"Durum",cell:({row:i})=>e.jsx(u,{variant:i.original.status.value==="ACTIVE"?"default":"secondary",className:`bg-${i.original.status.color}-500 text-white`,children:i.original.status.label})},{accessorKey:"services_count",header:"Hizmet Sayısı",cell:({row:i})=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium",children:i.original.services_count}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[i.original.active_services_count," aktif"]})]})},{accessorKey:"created_at",header:"Oluşturulma Tarihi",cell:({row:i})=>e.jsx("div",{className:"text-sm text-muted-foreground",children:i.original.created_at})},{id:"actions",header:"İşlemler",cell:({row:i})=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(s,{permissions:[a.dealer.view],children:e.jsx(t,{href:route("admin.dealers.show",i.original.id),children:e.jsx(r,{variant:"outline",size:"sm",children:e.jsx(B,{className:"h-4 w-4"})})})}),e.jsx(s,{permissions:[a.dealer.edit],children:e.jsx(t,{href:route("admin.dealers.edit",i.original.id),children:e.jsx(r,{variant:"outline",size:"sm",children:e.jsx(C,{className:"h-4 w-4"})})})}),e.jsx(s,{permissions:[a.dealer.delete],children:e.jsx(y,{onConfirm:()=>o(i.original.id),description:`"${i.original.name}" bayisini silmek istediğinize emin misiniz?`,children:e.jsx(r,{variant:"destructive",size:"sm",children:e.jsx(D,{className:"h-4 w-4"})})})})]})}],o=i=>{x.delete(route("admin.dealers.destroy",i),{onSuccess:()=>{}})};return e.jsxs(N,{breadcrumbs:P,children:[e.jsx(m,{title:"Bayi Yönetimi"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(h,{title:"Bayi Yönetimi",description:"Bayileri yönetmek için bu tabloyu kullanabilirsiniz.",buttons:e.jsx("div",{className:"flex gap-2",children:e.jsx(s,{permissions:[a.dealer.create],children:e.jsx(t,{href:route("admin.dealers.create"),children:e.jsxs(r,{children:[e.jsx(b,{className:"h-4 w-4"}),"Yeni Bayi"]})})})})}),e.jsx(s,{permissions:[a.dealer.view],children:e.jsxs(p,{children:[e.jsx(j,{children:e.jsx(f,{children:"Bayiler Listesi"})}),e.jsx(g,{className:"overflow-scroll",children:e.jsx(v,{columns:d,data:l.data,meta:n,routeName:"admin.dealers.index",searchKey:"name",searchPlaceholder:"Bayi adı veya e-posta ara..."})})]})})]})]})}export{se as default};
