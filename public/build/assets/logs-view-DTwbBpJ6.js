import{U as p,j as e,r as A,a as ee,L as se}from"./app-BeP5zyI8.js";import{c as re,g as oe,P as H,u as V,e as te,a as ae,f as ne}from"./index-CjECLqT8.js";import{c as ce}from"./index-D32bDiKd.js";import{u as ie,c as P}from"./createLucideIcon-Cb2efKCW.js";import{n as $,o as le,p as de,q as me,A as pe}from"./app-layout-6kUfrGEZ.js";import{C as ue}from"./chevron-down-Bo5N8njY.js";import{B as xe}from"./badge-CkeTRI3Y.js";import{C as fe,a as he,b as ge,d as je,c as ve}from"./card-D81jT4wA.js";import{S as be,t as Ne}from"./scroll-area-DN21IWo_.js";import{S as M}from"./skeleton-DPotQ56V.js";import{T as Ce,a as Ae,b as ye,c as we}from"./tabs-BsZiZhR3.js";import{S as Ie}from"./layout-BJdDDKJh.js";/* empty css            */import"./check-ClICjRpO.js";import"./shield-B78MWtgP.js";import"./index-BdQq_4o_.js";import"./heading-CGig0WEe.js";import"./separator-D2avm9eA.js";var v="Accordion",Se=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[T,ke,_e]=ce(v),[w,ls]=re(v,[_e,$]),E=$(),B=p.forwardRef((r,a)=>{const{type:o,...c}=r,l=c,t=c;return e.jsx(T.Provider,{scope:r.__scopeAccordion,children:o==="multiple"?e.jsx(Te,{...t,ref:a}):e.jsx(Pe,{...l,ref:a})})});B.displayName=v;var[J,Re]=w(v),[K,Le]=w(v,{collapsible:!1}),Pe=p.forwardRef((r,a)=>{const{value:o,defaultValue:c,onValueChange:l=()=>{},collapsible:t=!1,...m}=r,[d,u]=V({prop:o,defaultProp:c,onChange:l});return e.jsx(J,{scope:r.__scopeAccordion,value:d?[d]:[],onItemOpen:u,onItemClose:p.useCallback(()=>t&&u(""),[t,u]),children:e.jsx(K,{scope:r.__scopeAccordion,collapsible:t,children:e.jsx(U,{...m,ref:a})})})}),Te=p.forwardRef((r,a)=>{const{value:o,defaultValue:c,onValueChange:l=()=>{},...t}=r,[m=[],d]=V({prop:o,defaultProp:c,onChange:l}),u=p.useCallback(j=>d((h=[])=>[...h,j]),[d]),g=p.useCallback(j=>d((h=[])=>h.filter(b=>b!==j)),[d]);return e.jsx(J,{scope:r.__scopeAccordion,value:m,onItemOpen:u,onItemClose:g,children:e.jsx(K,{scope:r.__scopeAccordion,collapsible:!0,children:e.jsx(U,{...t,ref:a})})})}),[Ee,I]=w(v),U=p.forwardRef((r,a)=>{const{__scopeAccordion:o,disabled:c,dir:l,orientation:t="vertical",...m}=r,d=p.useRef(null),u=ie(d,a),g=ke(o),h=te(l)==="ltr",b=ae(r.onKeyDown,N=>{var O;if(!Se.includes(N.key))return;const s=N.target,i=g().filter(R=>{var z;return!((z=R.ref.current)!=null&&z.disabled)}),n=i.findIndex(R=>R.ref.current===s),x=i.length;if(n===-1)return;N.preventDefault();let f=n;const C=0,S=x-1,k=()=>{f=n+1,f>S&&(f=C)},_=()=>{f=n-1,f<C&&(f=S)};switch(N.key){case"Home":f=C;break;case"End":f=S;break;case"ArrowRight":t==="horizontal"&&(h?k():_());break;case"ArrowDown":t==="vertical"&&k();break;case"ArrowLeft":t==="horizontal"&&(h?_():k());break;case"ArrowUp":t==="vertical"&&_();break}const Z=f%x;(O=i[Z].ref.current)==null||O.focus()});return e.jsx(Ee,{scope:o,disabled:c,direction:l,orientation:t,children:e.jsx(T.Slot,{scope:o,children:e.jsx(H.div,{...m,"data-orientation":t,ref:u,onKeyDown:c?void 0:b})})})}),y="AccordionItem",[De,D]=w(y),G=p.forwardRef((r,a)=>{const{__scopeAccordion:o,value:c,...l}=r,t=I(y,o),m=Re(y,o),d=E(o),u=oe(),g=c&&m.value.includes(c)||!1,j=t.disabled||r.disabled;return e.jsx(De,{scope:o,open:g,disabled:j,triggerId:u,children:e.jsx(le,{"data-orientation":t.orientation,"data-state":X(g),...d,...l,ref:a,disabled:j,open:g,onOpenChange:h=>{h?m.onItemOpen(c):m.onItemClose(c)}})})});G.displayName=y;var q="AccordionHeader",F=p.forwardRef((r,a)=>{const{__scopeAccordion:o,...c}=r,l=I(v,o),t=D(q,o);return e.jsx(H.h3,{"data-orientation":l.orientation,"data-state":X(t.open),"data-disabled":t.disabled?"":void 0,...c,ref:a})});F.displayName=q;var L="AccordionTrigger",Y=p.forwardRef((r,a)=>{const{__scopeAccordion:o,...c}=r,l=I(v,o),t=D(L,o),m=Le(L,o),d=E(o);return e.jsx(T.ItemSlot,{scope:o,children:e.jsx(de,{"aria-disabled":t.open&&!m.collapsible||void 0,"data-orientation":l.orientation,id:t.triggerId,...d,...c,ref:a})})});Y.displayName=L;var Q="AccordionContent",W=p.forwardRef((r,a)=>{const{__scopeAccordion:o,...c}=r,l=I(v,o),t=D(Q,o),m=E(o);return e.jsx(me,{role:"region","aria-labelledby":t.triggerId,"data-orientation":l.orientation,...m,...c,ref:a,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...r.style}})});W.displayName=Q;function X(r){return r?"open":"closed"}var Oe=B,ze=G,Me=F,He=Y,Ve=W;function $e({...r}){return e.jsx(Oe,{"data-slot":"accordion",...r})}function Be({className:r,...a}){return e.jsx(ze,{"data-slot":"accordion-item",className:P("border-b last:border-b-0",r),...a})}function Je({className:r,children:a,...o}){return e.jsx(Me,{className:"flex",children:e.jsxs(He,{"data-slot":"accordion-trigger",className:P("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",r),...o,children:[a,e.jsx(ue,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function Ke({className:r,children:a,...o}){return e.jsx(Ve,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...o,children:e.jsx("div",{className:P("pt-0 pb-4",r),children:a})})}const ds=()=>{const[r,a]=A.useState({}),[o,c]=A.useState(!0),[l,t]=A.useState(null),[m,d]=A.useState("");A.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const i=(await ee.get(route("logs.data"))).data.logs;a(i);const n=Object.keys(i)[0];n&&d(n),t(null)}catch(s){console.error("Loglar yüklenirken hata oluştu:",s),t("Loglar yüklenirken bir hata oluştu. Lütfen daha sonra tekrar deneyin.")}finally{c(!1)}},g=s=>{switch(s.toLowerCase()){case"error":return"bg-red-500";case"warning":return"bg-yellow-500";case"info":return"bg-blue-500";case"debug":return"bg-zinc-500";default:return"bg-green-500"}},j=s=>{try{const i=new Date(s);return ne(i,"dd.MM.yyyy HH:mm:ss",{locale:Ne})}catch{return s}},h=s=>{try{return JSON.parse(s),!0}catch{return!1}},b=({data:s,level:i=0})=>{if(i>10)return e.jsx("span",{className:"text-red-500",children:"Maksimum derinlik seviyesine ulaşıldı"});if(s===null)return e.jsx("span",{className:"text-zinc-500",children:"null"});if(s===void 0)return e.jsx("span",{className:"text-zinc-500",children:"undefined"});if(typeof s=="string")return e.jsxs("span",{className:"text-green-600",children:['"',s,'"']});if(typeof s=="number")return e.jsx("span",{className:"text-blue-600",children:s});if(typeof s=="boolean")return e.jsx("span",{className:"text-purple-600",children:s?"true":"false"});if(Array.isArray(s))return e.jsxs("div",{className:"border-l-2 border-zinc-300 pl-4",children:[e.jsx("span",{className:"text-zinc-600",children:"["}),s.map((n,x)=>e.jsxs("div",{className:"pl-2",children:[e.jsx(b,{data:n,level:i+1}),x<s.length-1&&e.jsx("span",{className:"text-zinc-600",children:","})]},x)),e.jsx("span",{className:"text-zinc-600",children:"]"})]});if(typeof s=="object"){const n=Object.entries(s);return e.jsxs("div",{className:"border-l-2 border-zinc-300 pl-4",children:[e.jsx("span",{className:"text-zinc-600",children:"{"}),n.map(([x,f],C)=>e.jsxs("div",{className:"pl-2",children:[e.jsxs("span",{className:"font-medium text-red-500",children:['"',x,'"']}),": ",e.jsx(b,{data:f,level:i+1}),C<n.length-1&&e.jsx("span",{className:"text-zinc-600",children:","})]},x)),e.jsx("span",{className:"text-zinc-600",children:"}"})]})}return e.jsx("span",{children:String(s)})},N=s=>{if(h(s))try{const i=JSON.parse(s);return e.jsx("div",{className:"bg-muted max-h-[60vh] overflow-auto rounded-md p-4 font-mono text-sm",children:e.jsx(b,{data:i})})}catch{return e.jsx("p",{className:"whitespace-pre-wrap",children:s})}return e.jsx("p",{className:"whitespace-pre-wrap",children:s})};return e.jsx(pe,{children:e.jsxs(Ie,{children:[e.jsx(se,{title:"Sistem Logları"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Sistem Logları"}),e.jsx("p",{className:"text-muted-foreground",children:"Uygulama loglarını görüntüleyin ve hata ayıklama yapın."})]}),e.jsxs(fe,{children:[e.jsxs(he,{children:[e.jsx(ge,{children:"Log Dosyaları"}),e.jsx(je,{children:"Sistem tarafından oluşturulan log dosyalarını görüntüleyin."})]}),e.jsx(ve,{children:o?e.jsxs("div",{className:"space-y-4",children:[e.jsx(M,{className:"h-10 w-full"}),e.jsx(M,{className:"h-40 w-full"})]}):l?e.jsx("div",{className:"rounded-md bg-red-100 p-4 text-red-700",children:l}):Object.keys(r).length===0?e.jsx("div",{className:"rounded-md bg-yellow-100 p-4 text-yellow-700",children:"Hiç log dosyası bulunamadı."}):e.jsxs(Ce,{value:m,onValueChange:d,children:[e.jsx(Ae,{className:"mb-4 flex flex-wrap",children:Object.keys(r).map(s=>e.jsx(ye,{value:s,className:"mb-2",children:s},s))}),Object.entries(r).map(([s,i])=>e.jsxs(we,{value:s,className:"space-y-4",children:[e.jsxs("div",{className:"text-muted-foreground mb-4 text-sm",children:[i.length," log kaydı gösteriliyor"]}),e.jsx("div",{className:"rounded-md border",children:e.jsx(be,{className:"h-[600px]",children:e.jsx($e,{type:"multiple",className:"w-full",children:i.map((n,x)=>e.jsxs(Be,{value:`${s}-${x}`,children:[e.jsx(Je,{className:"px-4 hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-3 text-left",children:[n.type&&e.jsx(xe,{className:g(n.type),children:n.type}),e.jsx("span",{className:"font-mono text-xs",children:n.date?j(n.date):""}),e.jsx("span",{className:"max-w-[500px] truncate",children:n.message})]})}),e.jsx(Ke,{className:"px-4 pb-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-1 font-semibold",children:"Mesaj:"}),e.jsx("div",{className:"bg-muted rounded-md p-2",children:n.message})]}),n.context&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-1 font-semibold",children:"Bağlam:"}),e.jsx("div",{className:"bg-muted rounded-md p-2",children:N(n.context)})]}),n.extra&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-1 font-semibold",children:"Ek Bilgi:"}),e.jsx("div",{className:"bg-muted rounded-md p-2 font-mono text-sm",children:n.extra})]})]})})]},x))})})})]},s))]})})]})]})]})})};export{ds as default};
