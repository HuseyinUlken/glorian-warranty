import{j as e,$ as N,r as o,L as q,a as F,S as L}from"./app-BV6WKlMb.js";import{A as S}from"./app-layout-BmASC0vO.js";import{H as M}from"./heading-DH_H7MeW.js";import{C as n,a as i,b as c,c as d}from"./card-BBQXsDsi.js";import{a as B,B as l}from"./createLucideIcon-Csq-5No8.js";import{L as _}from"./label-D_pr9YS4.js";import{T as G}from"./textarea-DM6Oe3xy.js";import{B as x,P as D}from"./badge-C3BjsEuO.js";import{S as U,a as O,b as $,c as V,d as h}from"./select-ClwajYRO.js";import{P as C,a as k}from"./modulePermissions-HwqyT9WW.js";import{A}from"./arrow-left-D9kizMZh.js";import{S as X}from"./square-pen-_deBctSP.js";import{F as W}from"./file-text-CNhXdD7d.js";import{U as K}from"./user-D8xflZzf.js";import{P as Y,M as J}from"./phone-DAEWPeRt.js";import{M as Q}from"./map-pin-DhuhwWWl.js";import{C as Z}from"./car-DU5kx0pR.js";import{M as ee}from"./message-square-Vbbkqi3D.js";import{P as se}from"./plus-XREeURrh.js";import{T as I}from"./triangle-alert-D4wYnksm.js";import{C as z}from"./index.esm-DHvy8tl1.js";/* empty css            */import"./index-Cu2g89jF.js";import"./index-W5Vv9M3c.js";import"./check-B304XM_N.js";import"./index-BdQq_4o_.js";import"./index-CU9YumIa.js";import"./chevron-down-D2j7RRd5.js";import"./chevron-up-Df90CaP7.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],E=B("CircleX",ae);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],P=B("Info",re),te=[{title:"Ana Sayfa",href:route("dashboard")},{title:"Hizmet Sorgu",href:route("dealer.service-inquiry.index")},{title:"Sorgu Sonucu",href:"#"}];function He({service:s}){if(!s)return e.jsx(S,{children:e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Hizmet bilgileri bulunamadı. Lütfen hizmet kodunu tekrar sorgulayın."}),e.jsx(N,{href:route("dealer.service-inquiry.index"),children:e.jsxs(l,{children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Hizmet Sorgula"]})})]})})});const[f,u]=o.useState(!1),[j,g]=o.useState({content:"",type:"INFO"}),[p,m]=o.useState({}),[y,v]=o.useState(!1),H=async a=>{var r,t;a.preventDefault(),v(!0),m({});try{await F.post(route("dealer.service-inquiry.add-note",s.id),j),L.reload(),g({content:"",type:"INFO"}),u(!1)}catch(b){(t=(r=b.response)==null?void 0:r.data)!=null&&t.errors?m(b.response.data.errors):m({content:"Not eklenirken bir hata oluştu. Lütfen tekrar deneyin."})}finally{v(!1)}},w=(a,r)=>{g(t=>({...t,[a]:r})),p[a]&&m(t=>({...t,[a]:""}))},R=a=>{switch(a){case"ACTIVE":return e.jsx(z,{className:"h-4 w-4 text-green-600"});case"PENDING":return e.jsx(I,{className:"h-4 w-4 text-yellow-600"});case"EXPIRED":return e.jsx(E,{className:"h-4 w-4 text-red-600"});default:return e.jsx(P,{className:"h-4 w-4 text-blue-600"})}},T=a=>{switch(a){case"SUCCESS":return e.jsx(z,{className:"h-4 w-4 text-green-600"});case"WARNING":return e.jsx(I,{className:"h-4 w-4 text-yellow-600"});case"ERROR":return e.jsx(E,{className:"h-4 w-4 text-red-600"});default:return e.jsx(P,{className:"h-4 w-4 text-blue-600"})}};return e.jsxs(S,{breadcrumbs:te,children:[e.jsx(q,{title:`Hizmet Sorgu - ${s.service_code}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(M,{title:`Hizmet: ${s.service_code}`,description:"Hizmet detayları ve notlar",buttons:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(N,{href:route("dealer.service-inquiry.index"),children:e.jsxs(l,{variant:"outline",children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Yeni Sorgu"]})}),e.jsx(C,{permissions:[k.service.edit],children:e.jsx(N,{href:route("dealer.services.edit",s.id),children:e.jsxs(l,{variant:"outline",children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),"Düzenle"]})})})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(n,{children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5"}),"Hizmet Durumu"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[R(s.status.value),e.jsx("span",{className:"font-medium",children:s.status.label})]}),e.jsx(x,{variant:s.status.color,children:s.status.label})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Başvuru Tarihi:"}),e.jsx("p",{className:"font-medium",children:s.application_date})]}),s.warranty_start_date&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Garanti Başlangıcı:"}),e.jsx("p",{className:"font-medium",children:s.warranty_start_date})]}),s.warranty_end_date&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Garanti Bitişi:"}),e.jsx("p",{className:"font-medium",children:s.warranty_end_date})]}),s.warranty_days_remaining!==void 0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Kalan Garanti:"}),e.jsxs("p",{className:"font-medium",children:[s.warranty_days_remaining," gün"]})]})]})]})]}),e.jsxs(n,{children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5"}),"Müşteri Bilgileri"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h3",{className:"text-lg font-semibold",children:s.customer.full_name})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.customer.phone})]}),s.customer.email&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.customer.email})]}),s.customer.address&&e.jsxs("div",{className:"flex items-center gap-2 md:col-span-2",children:[e.jsx(Q,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.customer.address})]})]})]})]}),e.jsxs(n,{children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5"}),"Araç Bilgileri"]})}),e.jsx(d,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:s.vehicle_full_name}),s.vehicle_plate&&e.jsx(x,{variant:"secondary",children:s.vehicle_plate})]})})]}),e.jsxs(n,{children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),"Uygulanan Ürünler"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:s.applied_products.map(a=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:a.name}),e.jsx(x,{variant:"outline",children:a.category.label})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Garanti: ",a.warranty_duration]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:"Uygulama Alanları:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.applied_areas&&Array.isArray(a.applied_areas)?a.applied_areas.map((r,t)=>e.jsx(x,{variant:"secondary",className:"text-xs",children:r},t)):e.jsx("span",{className:"text-sm text-muted-foreground",children:"Belirtilmemiş"})})]}),a.notes&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:"Notlar:"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.notes})]})]})]},a.id))})})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(n,{children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),"Notlar"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsx(C,{permissions:[k.service.add_note],children:e.jsxs(l,{onClick:()=>u(!f),className:"w-full",children:[e.jsx(se,{className:"mr-2 h-4 w-4"}),"Not Ekle"]})}),f&&e.jsxs("form",{onSubmit:H,className:"space-y-4 p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{htmlFor:"type",children:"Not Türü"}),e.jsxs(U,{value:j.type,onValueChange:a=>w("type",a),children:[e.jsx(O,{children:e.jsx($,{})}),e.jsxs(V,{children:[e.jsx(h,{value:"INFO",children:"Bilgi"}),e.jsx(h,{value:"SUCCESS",children:"Başarı"}),e.jsx(h,{value:"WARNING",children:"Uyarı"}),e.jsx(h,{value:"ERROR",children:"Hata"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{htmlFor:"content",children:"Not İçeriği"}),e.jsx(G,{id:"content",value:j.content,onChange:a=>w("content",a.target.value),placeholder:"Not içeriğini yazın...",rows:3,required:!0}),p.content&&e.jsx("p",{className:"text-sm text-red-500",children:p.content})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{type:"submit",disabled:y,size:"sm",children:y?"Ekleniyor...":"Ekle"}),e.jsx(l,{type:"button",variant:"outline",size:"sm",onClick:()=>u(!1),children:"İptal"})]})]}),e.jsx("div",{className:"space-y-3",children:s.notes&&Array.isArray(s.notes)?s.notes.length>0?s.notes.map(a=>{var r;return e.jsx("div",{className:"border rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[T(a.type),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:a.content}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[e.jsx("span",{children:((r=a.user)==null?void 0:r.name)||"Bilinmeyen"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:a.created_at})]})]})]})},a.id)}):e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Henüz not eklenmemiş."}):e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Notlar yüklenemedi."})})]})]})})]})]})]})}export{He as default};
